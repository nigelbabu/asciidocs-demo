<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta content="IE=edge" http-equiv="X-UA-Compatible">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>Gluster User Documentation Latest | Gluster Docs Project | Coreutils</title>

  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">

    <link href="../../latest/_stylesheets/asciibinder.css" rel="stylesheet" />

   <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
   <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
   <!--[if lt IE 9]>
     <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
     <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
   <![endif]-->

  <link href="../../latest/_images/favicon32x32.png" rel="shortcut icon" type="text/css">
  <!--[if IE]><link rel="shortcut icon" href="../../latest/_images/favicon.ico"><![endif]-->
  <meta content="AsciiBinder" name="application-name">
</head>
<body>
  <div class="navbar navbar-default" role="navigation">
    <div class="container-fluid">
      <div class="navbar-header">
        <a class="navbar-brand" href="http://www.asciibinder.org/"><img alt="AsciiBinder" src="../../latest/_images/asciibinder-logo-horizontal.png"></a>
      </div>
    </div>
  </div>
  <div class="container">
    <p class="toggle-nav visible-xs pull-left">
      <button class="btn btn-default btn-sm" type="button" data-toggle="offcanvas">Toggle nav</button>
    </p>
    <ol class="breadcrumb">
      <li class="sitename">
        <a href="../../index.html">Home</a>
      </li>
      <li class="hidden-xs active">
        <a href="../admin-guide/index.html">Gluster User Documentation Latest</a>
      </li>
      <li class="hidden-xs active">
        <a href="../admin-guide/index.html">Gluster Docs Project</a>
      </li>
      
      <li class="hidden-xs active">
        Coreutils
      </li>
    </ol>
    <div class="row row-offcanvas row-offcanvas-left">
      <div class="col-xs-8 col-sm-3 col-md-3 sidebar sidebar-offcanvas">
        <ul class="nav nav-sidebar">
    <li class="nav-header">
      <a class="" href="#" data-toggle="collapse" data-target="#topicGroup0">
        <span id="tgSpan0" class="fa fa-angle-down"></span>Gluster Docs Project
      </a>
      <ul id="topicGroup0" class="collapse in list-unstyled">
            <li><a class="" href="../admin-guide/index.html">Index</a></li>
            <li><a class="" href="../admin-guide/access-control-lists.html">Access Control Lists</a></li>
            <li><a class="" href="../admin-guide/accessing-gluster-from-windows.html">Accessing Gluster from Windows</a></li>
            <li><a class="" href="../admin-guide/arbiter-volumes-and-quorum.html">Arbiter-volumes and Quorum</a></li>
            <li><a class="" href="../admin-guide/bareos.html">BareOS</a></li>
            <li><a class="" href="../admin-guide/brick-naming-conventions.html">Brick naming conventions</a></li>
            <li><a class="" href="../admin-guide/building-qemu-with-gfapi-for-debian-based-systems.html">Building QEMU with gfapi for Debian-based systems</a></li>
            <li><a class="" href="../admin-guide/cinder.html">Cinder</a></li>
            <li><a class="" href="../admin-guide/Console.html">Console</a></li>
            <li><a class="" href="../admin-guide/compiling-rpms.html">Compiling RPMs</a></li>
            <li><a class=" active" href="../admin-guide/coreutils.html">Coreutils</a></li>
            <li><a class="" href="../admin-guide/did-you-know.html">Did you know</a></li>
            <li><a class="" href="../admin-guide/directory-quota.html">Diectory Quota</a></li>
            <li><a class="" href="../admin-guide/distributed-geo-replication.html">Distributed Geo Replication</a></li>
            <li><a class="" href="../admin-guide/export-and-netgroup-authentication.html">Export and netgroup authentication</a></li>
            <li><a class="" href="../admin-guide/filter.html">Filter</a></li>
            <li><a class="" href="../admin-guide/geo-replication.html">Geo Replication</a></li>
            <li><a class="" href="../admin-guide/glossary.html">Glossary</a></li>
            <li><a class="" href="../admin-guide/gluster-on-zfs.html">Gluster on ZFS</a></li>
            <li><a class="" href="../admin-guide/Hadoop.html">Hadoop</a></li>
            <li><a class="" href="../admin-guide/Handling-of-users-with-many-groups.html">Handling of users with many groups</a></li>
            <li><a class="" href="../admin-guide/introduction.html">Introduction</a></li>
            <li><a class="" href="../admin-guide/iscsi.html">iSCSI</a></li>
            <li><a class="" href="../admin-guide/keystore-quickstart.html">Keystore Quickstart</a></li>
            <li><a class="" href="../admin-guide/linux-kernel-tuning.html">Linux Kernel Tuning</a></li>
            <li><a class="" href="../admin-guide/logging.html">Logging</a></li>
            <li><a class="" href="../admin-guide/managing-snapshots.html">Managing snapshots</a></li>
            <li><a class="" href="../admin-guide/managing-volumes.html">Managing Volumes</a></li>
            <li><a class="" href="../admin-guide/mandatory-locks.html">Mandatory Locks</a></li>
            <li><a class="" href="../admin-guide/monitoring-workload.html">Monitoring Workload</a></li>
            <li><a class="" href="../admin-guide/network-configuration-techniques.html">Network Configuration Techniques</a></li>
            <li><a class="" href="../admin-guide/nfs-ganesha-integration.html">NFS-Ganesha Integration</a></li>
            <li><a class="" href="../admin-guide/object-storage.html">Object storage</a></li>
            <li><a class="" href="../admin-guide/performance-testing.html">Performance Testing</a></li>
            <li><a class="" href="../admin-guide/Puppet.html">Puppet</a></li>
            <li><a class="" href="../admin-guide/rdma-transport.html">RDMA Transport</a></li>
            <li><a class="" href="../admin-guide/resolving-peer-rejected.html">Resolving Peer Rejected</a></li>
            <li><a class="" href="../admin-guide/setting-up-clients.html">Setting up Clients</a></li>
            <li><a class="" href="../admin-guide/setting-up-volumes.html">Setting up volumes</a></li>
            <li><a class="" href="../admin-guide/ssl.html">SSL</a></li>
            <li><a class="" href="../admin-guide/start-stop-daemon.html">Start Stop Daemon</a></li>
            <li><a class="" href="../admin-guide/storage-pools.html">Storage Pools</a></li>
            <li><a class="" href="../admin-guide/trash.html">Trash</a></li>
            <li><a class="" href="../admin-guide/troubleshooting.html">Troubleshooting</a></li>
      </ul>
    </li>
</ul>
      </div>
      <div class="col-xs-12 col-sm-9 col-md-9 main">
        <div class="page-header">
          <h2>Coreutils for GlusterFS volumes</h2>
        </div>
        <div class="sect1">
<h2 id="coreutils-for-glusterfs-volumes"><a class="anchor" href="#coreutils-for-glusterfs-volumes"></a>Coreutils for GlusterFS volumes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The GlusterFS Coreutils is a suite of utilities that aims to mimic the
standard Linux coreutils, with the exception that it utilizes the
gluster C API in order to do work. It offers an interface similar to
that of the ftp program. Operations include things like getting files
from the server to the local machine, putting files from the local
machine to the server, retrieving directory information from the server
and so on.</p>
</div>
<div class="sect2">
<h3 id="installation"><a class="anchor" href="#installation"></a>Installation</h3>
<div class="sect4">
<h5 id="install-glusterfs"><a class="anchor" href="#install-glusterfs"></a>Install GlusterFS</h5>
<div class="paragraph">
<p>For information on prerequsities, instructions and configuration of
GlusterFS, see Installation Guides from
<a href="http://gluster.readthedocs.org/en/latest/" class="bare">http://gluster.readthedocs.org/en/latest/</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="install-glusterfs-coreutils"><a class="anchor" href="#install-glusterfs-coreutils"></a>Install glusterfs-coreutils</h5>
<div class="paragraph">
<p>For now glusterfs-coreutils will be packaged only as rpm. Other package
formats will be supported very soon.</p>
</div>
<div id="for-fedora" class="paragraph">
<p>For fedora</p>
</div>
<div class="paragraph">
<p>Use dnf/yum to install glusterfs-coreutils:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>dnf install glusterfs-coreutils</pre>
</div>
</div>
<div class="paragraph">
<p>OR</p>
</div>
<div class="literalblock">
<div class="content">
<pre>yum install glusterfs-coreutils</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="usage"><a class="anchor" href="#usage"></a>Usage</h3>
<div class="paragraph">
<p>glusterfs-coreutils provides a set of basic utilities such as cat, cp,
flock, ls, mkdir, rm, stat and tail that are implemented specifically
using the GlusterFS API commonly known as libgfapi. These utilities can
be used either inside a gluster remote shell or as standalone commands
with 'gf' prepended to their respective base names. For example,
glusterfs cat utility is named as gfcat and so on with an exception to
flock core utility for which a standalone gfflock command is not
provided as such(see the notes section on why flock is designed in that
way).</p>
</div>
<div class="sect4">
<h5 id="using-coreutils-within-a-remote-gluster-shell"><a class="anchor" href="#using-coreutils-within-a-remote-gluster-shell"></a>Using coreutils within a remote gluster-shell</h5>
<div id="invoke-a-new-shell" class="paragraph">
<p>Invoke a new shell</p>
</div>
<div class="paragraph">
<p>In order to enter into a gluster client-shell, type <em>gfcli</em> and press
enter. You will now be presented with a similar prompt as shown below:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>gfcli&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>See the man page for <em>gfcli</em> for more options. <mark>#</mark> Connect to a
gluster volume Now we need to connect as a client to some glusterfs
volume which has already started. Use connect command to do so as
follows:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>gfcli&gt; connect glfs://&lt;SERVER-IP or HOSTNAME&gt;/&lt;VOLNAME&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>For example if you have a volume named vol on a server with hostname
localhost the above command will take the following form:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>gfcli&gt; connect glfs://localhost/vol</pre>
</div>
</div>
<div class="paragraph">
<p>Make sure that you are successfully attached to a remote gluster volume
by verifying the new prompt which should look like:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>gfcli (&lt;SERVER IP or HOSTNAME/&lt;VOLNAME&gt;)</pre>
</div>
</div>
<div id="try-out-your-favorite-utilities" class="paragraph">
<p>Try out your favorite utilities</p>
</div>
<div class="paragraph">
<p>Please go through the man pages for different utilities and available
options for each command. For example, <em>man gfcp</em> will display details
on the usage of cp command outside or within a gluster-shell. Run
different commands as follows:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>gfcli (localhost/vol) ls .
gfcli (localhost/vol) stat .trashcan</pre>
</div>
</div>
<div id="terminate-the-client-connection-from-the-volume" class="paragraph">
<p>Terminate the client connection from the volume</p>
</div>
<div class="paragraph">
<p>Use disconnect command to close the connection:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>gfcli (localhost/vol) disconnect
gfcli&gt;</pre>
</div>
</div>
<div id="exit-from-shell" class="paragraph">
<p>Exit from shell</p>
</div>
<div class="paragraph">
<p>Run quit from shell:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>gfcli&gt; quit</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="using-standalone-glusterfs-coreutil-commands"><a class="anchor" href="#using-standalone-glusterfs-coreutil-commands"></a>Using standalone glusterfs coreutil commands</h5>
<div class="paragraph">
<p>As mentioned above glusterfs coreutils also provides standalone commands
to perform the basic GNU coreutil functionalities. All those commands
are prepended by 'gf'. Instead of invoking a gluster client-shell you
can directly make use of these to establish and perform the operation in
one shot. For example see the following sample usage of gfstat command:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>gfstat glfs://localhost/vol/foo</pre>
</div>
</div>
<div class="paragraph">
<p>There is an exemption regarding flock coreutility which is not available
as a standalone command for a reason described under 'Notes' section.</p>
</div>
<div class="paragraph">
<p>For more information on each command and corresponding options see
associated man pages.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="notes"><a class="anchor" href="#notes"></a>Notes</h3>
<div class="ulist">
<ul>
<li>
<p>Within a particular session of gluster client-shell, history of
commands are preserved i.e, you can use up/down arrow keys to search
through previously executed commands or the reverse history search
technique using Ctrl+R.</p>
</li>
<li>
<p>flock is not available as standalone 'gfflock'. Because locks are
always associated with file descriptors. Unlike all other commands flock
cannot straight away clean up the file descriptor after acquiring the
lock. For flock we need to maintain an active connection as a glusterfs
client.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
      </div>
    </div>
  </div>
   <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
   <!-- Latest compiled and minified JavaScript -->
   <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
   <script type="text/javascript">
    /*<![CDATA[*/
    $(document).ready(function() {
      $("[id^='topicGroup']").on('show.bs.collapse', function (event) {
        if (!($(event.target).attr('id').match(/^topicSubGroup/))) {
          $(this).parent().find("[id^='tgSpan']").toggleClass("fa-angle-right fa-angle-down");
        }
      });
      $("[id^='topicGroup']").on('hide.bs.collapse', function (event) {
        if (!($(event.target).attr('id').match(/^topicSubGroup/))) {
          $(this).parent().find("[id^='tgSpan']").toggleClass("fa-angle-right fa-angle-down");
        }
      });
      $("[id^='topicSubGroup']").on('show.bs.collapse', function () {
        $(this).parent().find("[id^='sgSpan']").toggleClass("fa-caret-right fa-caret-down");
      });
      $("[id^='topicSubGroup']").on('hide.bs.collapse', function () {
        $(this).parent().find("[id^='sgSpan']").toggleClass("fa-caret-right fa-caret-down");
      });
    });
    /*]]>*/
  </script>
</body>
</html>